---
import { Image } from 'astro:assets';

interface Props {
	username: string;
	href: string;
	avatar: ImageMetadata;
}

const { username, href, avatar } = Astro.props;
---

<a
	href={href}
	class='inline-block'>
	<div
		class='relative inline-flex flex-col items-center group cursor-pointer -mr-5'>
		<Image
			class='size-8 rounded-full border-2 border-gray-800 transition-transform duration-200 group-hover:scale-105'
			src={avatar}
			alt={username}
			width={48}
			height={48}
			loading='lazy'
			decoding='async'
		/>

		<div
			class='absolute -top-10 left-1/2 -translate-x-1/2 bg-secondary text-white text-sm px-3 py-1 rounded-lg shadow-lg opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 pointer-events-none whitespace-nowrap z-10'>
			{username}
			<div
				class='absolute top-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-6 border-r-6 border-b-6 border-transparent border-b-secondary'
			></div>
		</div>
	</div>
</a>
